<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>STI - Future Rentals 2026</title>
    
    <!-- Tailwind CSS aur Font Awesome -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

    <!-- Premium Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@500;600;700;800&family=Plus+Jakarta+Sans:wght@700;800&display=swap" rel="stylesheet">
    
    <script>
        // --- AUTO REDIRECT LOGIC START ---
        (function() {
            const urlParams = new URLSearchParams(window.location.search);
            if (!urlParams.has('reset')) {
                const savedPage = localStorage.getItem('sti_rental_preferred_page');
            }
        })();
        // --- AUTO REDIRECT LOGIC END ---
    </script>

    <style>
        :root {
            /* NEON CYBER GREEN THEME - Color Corrected */
            --primary: #39ff14;  /* Electric Neon Green */
            --primary-dim: rgba(57, 255, 20, 0.4); 
            --bg-dark: #020202; /* Deepest Black */
            --glass-border: rgba(57, 255, 20, 0.4);
            
            --gold: #FFD700; /* Gold for Special Buttons/Stars */
            
            --header-offset: calc(15px + env(safe-area-inset-top));
            --header-height: 70px; 
            
            --footer-offset: calc(25px + env(safe-area-inset-bottom));
            --footer-height: 75px; 
            
            --text-light: #ffffff; 
        }

        html { scroll-behavior: smooth; }
        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            background-color: var(--bg-dark);
            color: var(--text-light);
            margin: 0;
            font-weight: 700; 
            overflow: hidden; 
            height: 100vh;
            width: 100vw;
        }

        /* --- FUTURISTIC BACKGROUND --- */
        #fixed-media-background {
            position: fixed; top: 0; left: 0; right: 0; bottom: 0;
            z-index: -10; background-size: cover; background-position: center;
            opacity: 0.5; 
            background-image: url('https://images.unsplash.com/photo-1478760329108-5c3ed9d495a0?q=80&w=1374&auto=format&fit=crop');
            filter: brightness(25%) hue-rotate(85deg) contrast(130%) saturate(160%);
        }

        /* --- FLOATING NEON HEADER --- */
        .iphone-header {
            position: fixed; top: var(--header-offset); left: 50%; transform: translateX(-50%);
            width: 92%; max-width: 600px; height: var(--header-height);
            background: rgba(5, 10, 5, 0.90); 
            backdrop-filter: blur(25px);
            border: 1px solid var(--glass-border); 
            border-radius: 24px;
            display: flex; align-items: center; justify-content: space-between;
            padding: 0 15px; z-index: 3000; 
            box-shadow: 0 0 25px var(--primary-dim);
        }

        .header-logo { 
            width: 40px; height: 40px; border-radius: 12px; 
            border: 2px solid var(--primary); 
            box-shadow: 0 0 15px var(--primary); 
            object-fit: cover;
        }

        /* --- ANIMATED DOCK --- */
        .iphone-dock-wrapper { 
            position: fixed; bottom: var(--footer-offset); 
            left: 0; width: 100%; display: flex; justify-content: center; z-index: 3000; padding: 0 10px; 
        }
        .iphone-dock { 
            width: 100%; max-width: 650px; 
            height: var(--footer-height); 
            background: rgba(0, 10, 0, 0.95); 
            backdrop-filter: blur(35px); 
            border-radius: 30px; 
            border: 1px solid var(--glass-border); 
            display: flex; justify-content: space-between; align-items: center;
            box-shadow: 0 10px 40px rgba(0,0,0,0.9), 0 0 25px var(--primary-dim); 
            padding: 0 5px; overflow: visible; 
        }
        
        .nav-item { 
            flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; 
            padding: 0; transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); 
            color: #555; cursor: pointer; position: relative; height: 100%;
        }
        
        .nav-item .icon-box {
            width: 38px; height: 38px; 
            display: flex; align-items: center; justify-content: center;
            border-radius: 50%; 
            margin-bottom: 4px;
            background: rgba(255,255,255,0.03);
            border: 1px solid transparent; 
            transition: all 0.3s ease;
        }

        .nav-item i { font-size: 1.1rem; transition: all 0.3s ease; }
        .nav-item span { 
            font-size: 0.55rem; font-weight: 800; text-transform: uppercase; 
            font-family: 'Rajdhani', sans-serif; letter-spacing: 0.5px;
            opacity: 0.6; display: none; 
        }
        @media (min-width: 380px) { .nav-item span { display: block; } }
        
        /* Active State */
        .nav-item.active { color: var(--primary); transform: translateY(-8px); }
        .nav-item.active .icon-box {
            background: var(--primary); 
            box-shadow: 0 0 20px var(--primary); 
            border-color: #fff;
            color: #000;
        }
        .nav-item.active i { color: #000; transform: scale(1.1); }
        .nav-item.active span { 
            color: var(--primary); opacity: 1; 
            text-shadow: 0 0 10px var(--primary);
        }

        /* --- MODAL & GRID --- */
        .modal-overlay { 
            position: fixed; 
            top: calc(var(--header-offset) + var(--header-height) + 15px);
            bottom: calc(var(--footer-offset) + var(--footer-height) + 15px);
            left: 0; right: 0; z-index: 2500; 
            display: none; justify-content: center; padding: 0 10px; 
            pointer-events: none;
        }
        
        .hidden-modal { display: none !important; }
        .flex-modal { display: flex !important; animation: fadeIn 0.4s ease forwards; }

        @keyframes fadeIn { from { opacity: 0; transform: scale(0.98); } to { opacity: 1; transform: scale(1); } }

        .modal-box { 
            pointer-events: auto;
            background: rgba(5, 12, 5, 0.96); 
            border: 2px solid var(--primary); 
            border-radius: 28px; 
            width: 100%; max-width: 600px; height: 100%; 
            padding: 15px; 
            box-shadow: 0 0 80px rgba(57, 255, 20, 0.2); 
            position: relative; overflow: hidden; 
            display: flex; flex-direction: column; 
        }

        @media (min-width: 768px) {
            .modal-box { max-width: 900px; }
            .listing-grid { grid-template-columns: repeat(3, 1fr) !important; } 
        }

        /* --- MODAL FLOATING LIST BUTTON (INSIDE MODAL - RIGHT SIDE) --- */
        .modal-floating-btn {
            position: absolute;
            right: 20px;
            bottom: 30px; /* Positioned clearly at the bottom right */
            z-index: 100; /* Stays on top of content */
            background: linear-gradient(135deg, #FFD700, #FFA500); /* Gold Gradient */
            color: #000;
            width: 55px; height: 55px;
            border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            box-shadow: 0 5px 25px rgba(255, 215, 0, 0.6);
            border: 2px solid #fff;
            cursor: pointer;
            transition: all 0.3s ease;
            animation: pulseGold 2s infinite;
        }
        .modal-floating-btn:hover { transform: scale(1.1); box-shadow: 0 0 35px rgba(255, 215, 0, 0.9); }
        .modal-floating-btn i { font-size: 1.6rem; }

        @keyframes pulseGold {
            0% { box-shadow: 0 0 0 0 rgba(255, 215, 0, 0.7); }
            70% { box-shadow: 0 0 0 15px rgba(255, 215, 0, 0); }
            100% { box-shadow: 0 0 0 0 rgba(255, 215, 0, 0); }
        }

        /* --- NEW HEADER LAYOUT --- */
        .modal-header-center {
            display: flex; flex-direction: column; align-items: center; justify-content: flex-start;
            text-align: center; margin-bottom: 10px; position: relative; z-index: 10;
            width: 100%; padding-bottom: 5px; 
            flex-shrink: 0;
        }
        
        .modal-header-center h2 { 
            font-family: 'Rajdhani', sans-serif;
            font-weight: 800;
            color: var(--primary); 
            text-transform: uppercase;
            letter-spacing: 3px;
            text-shadow: 0 0 20px var(--primary);
            font-size: 1.8rem;
            margin-bottom: 8px;
            width: 100%;
        }

        /* --- MINI DOCK FOR SUB-NAV --- */
        .sub-nav-dock {
            background: rgba(0, 20, 0, 0.7);
            border: 1px solid rgba(57, 255, 20, 0.4);
            border-radius: 18px;
            padding: 6px;
            display: flex; gap: 8px;
            overflow-x: auto; white-space: nowrap; width: 100%;
            -ms-overflow-style: none; scrollbar-width: none;
        }
        .sub-nav-dock::-webkit-scrollbar { display: none; }

        .sub-nav-item {
            background: rgba(57, 255, 20, 0.08);
            color: #ddd;
            padding: 6px 14px; border-radius: 12px;
            font-size: 0.75rem; font-family: 'Rajdhani', sans-serif;
            font-weight: 700;
            border: 1px solid rgba(57, 255, 20, 0.2);
            transition: all 0.3s ease;
            flex-shrink: 0; text-transform: uppercase; letter-spacing: 1px;
            cursor: pointer;
        }
        .sub-nav-item:hover, .sub-nav-item.active {
            background: var(--primary); color: #000;
            border-color: #fff;
            box-shadow: 0 0 15px var(--primary-dim);
            font-weight: 800;
        }

        /* --- LISTING CARDS (2-Col Mobile, Fixed Height) --- */
        .scroll-content { 
            flex-grow: 1; overflow-y: auto; 
            padding-bottom: 80px; padding-top: 5px; 
            -webkit-overflow-scrolling: touch; 
        }
        
        .listing-grid {
            display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; padding: 5px;
        }

        .listing-card {
            background: rgba(20, 25, 20, 0.8);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 18px; overflow: hidden;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            animation: slideUp 0.5s ease backwards;
            display: flex; flex-direction: column;
            height: 195px; /* Reduced Height due to smaller content */
        }
        
        @keyframes slideUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }

        .listing-card:hover {
            border-color: var(--primary);
            box-shadow: 0 5px 25px rgba(57, 255, 20, 0.2);
            transform: translateY(-4px) scale(1.02);
            background: rgba(0, 30, 0, 0.9);
        }

        .listing-img-box {
            height: 95px; width: 100%; position: relative; overflow: hidden; flex-shrink: 0;
        }
        .listing-img-box img {
            width: 100%; height: 100%; object-fit: cover;
            transition: transform 0.6s ease;
        }
        .listing-card:hover .listing-img-box img { transform: scale(1.1); }
        
        /* FIXED RATING STYLE - REDUCED SIZE */
        .listing-rating {
            position: absolute; bottom: 6px; left: 6px; z-index: 50; 
            background: rgba(0, 0, 0, 0.9); color: var(--gold);
            padding: 2px 6px; border-radius: 6px;
            font-size: 0.6rem; font-weight: 800; 
            display: flex; align-items: center; gap: 3px;
            border: 1px solid rgba(255, 215, 0, 0.5);
            box-shadow: 0 2px 5px rgba(0,0,0,0.8);
        }

        .listing-details { 
            padding: 8px; display: flex; flex-direction: column; 
            flex-grow: 1; justify-content: space-between;
        }
        
        .listing-title {
            font-family: 'Rajdhani', sans-serif;
            font-size: 0.8rem; color: #fff; font-weight: 800;
            text-transform: uppercase; line-height: 1.1;
            white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
        }
        .listing-loc {
            font-size: 0.6rem; color: #bbb; display: flex; align-items: center; gap: 3px;
            margin-bottom: 2px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
        }
        .listing-price {
            font-size: 0.85rem; color: var(--primary); font-weight: 800;
            text-shadow: 0 0 8px var(--primary-dim); 
        }
        
        .action-btn {
            background: rgba(57, 255, 20, 0.1);
            border: 1px solid var(--primary); color: var(--primary);
            text-align: center; padding: 5px; border-radius: 8px;
            font-weight: 900; text-transform: uppercase; letter-spacing: 0.5px;
            cursor: pointer; transition: all 0.3s; margin-top: auto;
            font-size: 0.65rem;
        }
        .action-btn:hover {
            background: var(--primary); color: #000;
            box-shadow: 0 0 15px var(--primary);
        }

    </style>
</head>
<body>
    
    <div id="fixed-media-background"></div>

    <!-- FLOATING HEADER -->
    <header class="iphone-header">
        <div class="header-left">
            <img class="header-logo" src="sti.png" alt="Logo" onerror="this.src='https://via.placeholder.com/40/39FF14/000000?text=S'">
        </div>
        <div class="header-center">
             <h1 style="font-family: 'Rajdhani'; font-weight: 800; font-size: 1.5rem; color: #fff; letter-spacing: 2px;">
                STI <span style="color: var(--primary); text-shadow: 0 0 10px var(--primary);">RENTALS</span>
            </h1>
        </div>
        <div class="header-right">
            <img class="header-logo" src="sti.png" alt="Logo" onerror="this.src='https://via.placeholder.com/40/39FF14/000000?text=S'">
        </div>
    </header>

    <main></main>
    
    <!-- DOCK NAV -->
    <div class="iphone-dock-wrapper">
        <nav class="iphone-dock">
            <div class="nav-item" onclick="activateTab(this, 'rooms')">
                <div class="icon-box"><i class="fas fa-bed"></i></div>
                <span>Rooms</span>
            </div>
            <div class="nav-item" onclick="activateTab(this, 'flats')">
                <div class="icon-box"><i class="fas fa-building-user"></i></div>
                <span>Flats</span>
            </div>
            <div class="nav-item" onclick="activateTab(this, 'shops')">
                <div class="icon-box"><i class="fas fa-shop"></i></div>
                <span>Shops</span>
            </div>
            <div class="nav-item active" onclick="activateTab(this, 'pg')">
                <div class="icon-box"><i class="fas fa-people-roof"></i></div>
                <span>PG</span>
            </div>
            <div class="nav-item" onclick="activateTab(this, 'hostels')">
                <div class="icon-box"><i class="fas fa-hotel"></i></div>
                <span>Hostels</span>
            </div>
            <div class="nav-item" onclick="activateTab(this, 'houses')">
                <div class="icon-box"><i class="fas fa-house-chimney"></i></div>
                <span>Houses</span>
            </div>
            <div class="nav-item" onclick="activateTab(this, 'plots')">
                <div class="icon-box"><i class="fas fa-map-location-dot"></i></div>
                <span>Plots</span>
            </div>
        </nav>
    </div>

    <!-- ===== 7 POPUPS WITH DYNAMIC CONTENT AND FLOATING BUTTONS ===== -->

    <!-- 1. ROOMS -->
    <div id="modal-rooms" class="modal-overlay hidden-modal">
        <div class="modal-box">
            <div class="modal-header-center">
                <h2>RENTAL ROOMS</h2>
                <div class="sub-nav-dock" id="nav-rooms"></div>
            </div>
            <div id="grid-rooms" class="scroll-content listing-grid"></div>
            <!-- In-Modal Floating Button -->
            <div class="modal-floating-btn" onclick="openListPropertyForm('rooms')"><i class="fas fa-plus"></i></div>
        </div>
    </div>

    <!-- 2. FLATS -->
    <div id="modal-flats" class="modal-overlay hidden-modal">
        <div class="modal-box">
            <div class="modal-header-center">
                <h2>SMART FLATS</h2>
                <div class="sub-nav-dock" id="nav-flats"></div>
            </div>
            <div id="grid-flats" class="scroll-content listing-grid"></div>
            <div class="modal-floating-btn" onclick="openListPropertyForm('flats')"><i class="fas fa-plus"></i></div>
        </div>
    </div>

    <!-- 3. SHOPS -->
    <div id="modal-shops" class="modal-overlay hidden-modal">
        <div class="modal-box">
            <div class="modal-header-center">
                <h2>RETAIL HUBS</h2>
                <div class="sub-nav-dock" id="nav-shops"></div>
            </div>
            <div id="grid-shops" class="scroll-content listing-grid"></div>
            <div class="modal-floating-btn" onclick="openListPropertyForm('shops')"><i class="fas fa-plus"></i></div>
        </div>
    </div>

    <!-- 4. PG (Default) -->
    <div id="modal-pg" class="modal-overlay hidden-modal">
        <div class="modal-box">
            <div class="modal-header-center">
                <h2>PREMIUM PG</h2>
                <div class="sub-nav-dock" id="nav-pg"></div>
            </div>
            <div id="grid-pg" class="scroll-content listing-grid"></div>
            <div class="modal-floating-btn" onclick="openListPropertyForm('pg')"><i class="fas fa-plus"></i></div>
        </div>
    </div>

    <!-- 5. HOSTELS -->
    <div id="modal-hostels" class="modal-overlay hidden-modal">
        <div class="modal-box">
            <div class="modal-header-center">
                <h2>STUDENT LIVING</h2>
                <div class="sub-nav-dock" id="nav-hostels"></div>
            </div>
            <div id="grid-hostels" class="scroll-content listing-grid"></div>
            <div class="modal-floating-btn" onclick="openListPropertyForm('hostels')"><i class="fas fa-plus"></i></div>
        </div>
    </div>

    <!-- 6. HOUSES -->
    <div id="modal-houses" class="modal-overlay hidden-modal">
        <div class="modal-box">
            <div class="modal-header-center">
                <h2>LUXURY VILLAS</h2>
                <div class="sub-nav-dock" id="nav-houses"></div>
            </div>
            <div id="grid-houses" class="scroll-content listing-grid"></div>
            <div class="modal-floating-btn" onclick="openListPropertyForm('houses')"><i class="fas fa-plus"></i></div>
        </div>
    </div>

    <!-- 7. PLOTS -->
    <div id="modal-plots" class="modal-overlay hidden-modal">
        <div class="modal-box">
            <div class="modal-header-center">
                <h2>PRIME LAND</h2>
                <div class="sub-nav-dock" id="nav-plots"></div>
            </div>
            <div id="grid-plots" class="scroll-content listing-grid"></div>
            <div class="modal-floating-btn" onclick="openListPropertyForm('plots')"><i class="fas fa-plus"></i></div>
        </div>
    </div>

    <script>
        // --- DEEP RESEARCHED DATA: 10 SUB-TYPES PER CATEGORY ---
        const fullData = {
            rooms: {
                'Single': [ { title: "Eco Pod Single", price: "₹4,200", loc: "Green Belt", rating: "4.5", img: "https://images.unsplash.com/photo-1631679706909-1844bbd07221?q=80&w=600&auto=format&fit=crop" }, { title: "Compact Solo", price: "₹3,800", loc: "Metro Stn", rating: "4.2", img: "https://images.unsplash.com/photo-1598928506311-c55ded91a20c?q=80&w=600&auto=format&fit=crop" } ],
                'Double': [ { title: "Duo Space", price: "₹3,000/bed", loc: "Uni Campus", rating: "4.2", img: "https://images.unsplash.com/photo-1595526114035-0d45ed16cfbf?q=80&w=600&auto=format&fit=crop" }, { title: "Twin Share", price: "₹3,500/bed", loc: "Sec-14", rating: "4.4", img: "https://images.unsplash.com/photo-1555854877-bab0e564b8d5?q=80&w=600&auto=format&fit=crop" } ],
                'Triple': [ { title: "Friends Trio", price: "₹2,500/bed", loc: "Market", rating: "4.1", img: "https://images.unsplash.com/photo-1555854877-bab0e564b8d5?q=80&w=600&auto=format&fit=crop" }, { title: "Budget 3", price: "₹2,200/bed", loc: "Extn", rating: "3.9", img: "https://images.unsplash.com/photo-1522771753037-633361652bff?q=80&w=600&auto=format&fit=crop" } ],
                'Studio': [ { title: "Neon Studio", price: "₹6,500", loc: "Cyber Hub", rating: "4.8", img: "https://images.unsplash.com/photo-1554995207-c18c203602cb?q=80&w=600&auto=format&fit=crop" }, { title: "Artist Loft", price: "₹7,000", loc: "Art Dist", rating: "4.7", img: "https://images.unsplash.com/photo-1522771753037-633361652bff?q=80&w=600&auto=format&fit=crop" } ],
                'Furnished': [ { title: "Exec Suite", price: "₹9,000", loc: "Tech Park", rating: "4.9", img: "https://images.unsplash.com/photo-1505691938895-1758d7feb511?q=80&w=600&auto=format&fit=crop" }, { title: "Royal Room", price: "₹8,500", loc: "Civil Lines", rating: "4.6", img: "https://images.unsplash.com/photo-1616594031246-d53654136601?q=80&w=600&auto=format&fit=crop" } ],
                'Unfurnished': [ { title: "Raw Space", price: "₹3,000", loc: "Old City", rating: "3.8", img: "https://images.unsplash.com/photo-1586023492125-27b2c045efd7?q=80&w=600&auto=format&fit=crop" }, { title: "Empty Room", price: "₹2,800", loc: "Colony", rating: "4.0", img: "https://images.unsplash.com/photo-1595526114035-0d45ed16cfbf?q=80&w=600&auto=format&fit=crop" } ],
                'AC Room': [ { title: "Cool Stay", price: "₹5,500", loc: "Main Rd", rating: "4.5", img: "https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?q=80&w=600&auto=format&fit=crop" }, { title: "Chilled Pod", price: "₹6,000", loc: "Plaza", rating: "4.6", img: "https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?q=80&w=600&auto=format&fit=crop" } ],
                'Non-AC': [ { title: "Simple Stay", price: "₹3,000", loc: "Lane 2", rating: "4.0", img: "https://images.unsplash.com/photo-1598928506311-c55ded91a20c?q=80&w=600&auto=format&fit=crop" }, { title: "Eco Room", price: "₹2,800", loc: "Corner", rating: "4.1", img: "https://images.unsplash.com/photo-1555854877-bab0e564b8d5?q=80&w=600&auto=format&fit=crop" } ],
                'Terrace': [ { title: "Sky Room", price: "₹4,500", loc: "Rooftop", rating: "4.7", img: "https://images.unsplash.com/photo-1564013799919-ab600027ffc6?q=80&w=600&auto=format&fit=crop" }, { title: "Open View", price: "₹5,000", loc: "Top Flr", rating: "4.8", img: "https://images.unsplash.com/photo-1512917774080-9991f1c4c750?q=80&w=600&auto=format&fit=crop" } ],
                'Basement': [ { title: "Quiet Base", price: "₹2,500", loc: "Under", rating: "3.5", img: "https://images.unsplash.com/photo-1505691938895-1758d7feb511?q=80&w=600&auto=format&fit=crop" }, { title: "Study Den", price: "₹2,800", loc: "Lower", rating: "3.8", img: "https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?q=80&w=600&auto=format&fit=crop" } ]
            },
            flats: {
                '1 BHK': [ { title: "Smart 1BHK", price: "₹12,000", loc: "Hub", rating: "4.6", img: "https://images.unsplash.com/photo-1484154218962-a1c002085d2f?q=80&w=600&auto=format&fit=crop" } ],
                '2 BHK': [ { title: "Skyline 2BHK", price: "₹22,000", loc: "Tower", rating: "4.7", img: "https://images.unsplash.com/photo-1493809842364-78817add7ffb?q=80&w=600&auto=format&fit=crop" } ],
                '3 BHK': [ { title: "Grand 3BHK", price: "₹35,000", loc: "Elite", rating: "4.8", img: "https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?q=80&w=600&auto=format&fit=crop" } ],
                '4 BHK': [ { title: "Royal 4BHK", price: "₹50,000", loc: "Kings", rating: "5.0", img: "https://images.unsplash.com/photo-1512917774080-9991f1c4c750?q=80&w=600&auto=format&fit=crop" } ],
                'Studio': [ { title: "Chic Studio", price: "₹15,000", loc: "Metro", rating: "4.5", img: "https://images.unsplash.com/photo-1554995207-c18c203602cb?q=80&w=600&auto=format&fit=crop" } ],
                'Penthouse': [ { title: "Sky Villa", price: "₹60,000", loc: "Top", rating: "5.0", img: "https://images.unsplash.com/photo-1600596542815-2250c385e311?q=80&w=600&auto=format&fit=crop" } ],
                'Duplex': [ { title: "Lux Duplex", price: "₹45,000", loc: "Posh", rating: "4.9", img: "https://images.unsplash.com/photo-1570129477492-45c003edd2be?q=80&w=600&auto=format&fit=crop" } ],
                'Serviced': [ { title: "Hotel Apt", price: "₹40,000", loc: "Biz", rating: "4.8", img: "https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?q=80&w=600&auto=format&fit=crop" } ],
                'Builder Flr': [ { title: "Indep Floor", price: "₹25,000", loc: "Sec-5", rating: "4.4", img: "https://images.unsplash.com/photo-1564013799919-ab600027ffc6?q=80&w=600&auto=format&fit=crop" } ],
                'Basement': [ { title: "Base Flat", price: "₹8,000", loc: "Budget", rating: "3.9", img: "https://images.unsplash.com/photo-1502672260266-1c1ef2d93688?q=80&w=600&auto=format&fit=crop" } ]
            },
            shops: {
                'Mall Shop': [ { title: "Brand Store", price: "₹40,000", loc: "City Mall", rating: "4.8", img: "https://images.unsplash.com/photo-1441986300917-64674bd600d8?q=80&w=600&auto=format&fit=crop" } ],
                'High St': [ { title: "Glass Shop", price: "₹55,000", loc: "Mkt Rd", rating: "4.9", img: "https://images.unsplash.com/photo-1534723328310-e82dad3ee43f?q=80&w=600&auto=format&fit=crop" } ],
                'Office': [ { title: "Biz Desk", price: "₹15,000", loc: "Tower", rating: "4.7", img: "https://images.unsplash.com/photo-1497215728101-856f4ea42174?q=80&w=600&auto=format&fit=crop" } ],
                'Showroom': [ { title: "Main Show", price: "₹80,000", loc: "Corner", rating: "5.0", img: "https://images.unsplash.com/photo-1556740758-90de2977864f?q=80&w=600&auto=format&fit=crop" } ],
                'Kiosk': [ { title: "Food Stall", price: "₹10,000", loc: "Entry", rating: "4.4", img: "https://images.unsplash.com/photo-1519389950473-47ba0277781c?q=80&w=600&auto=format&fit=crop" } ],
                'Food Ct': [ { title: "Pizza Point", price: "₹25,000", loc: "L3", rating: "4.6", img: "https://images.unsplash.com/photo-1554118811-1e0d58224f24?q=80&w=600&auto=format&fit=crop" } ],
                'Warehouse': [ { title: "Store Room", price: "₹20,000", loc: "Ind Area", rating: "4.2", img: "https://images.unsplash.com/photo-1586023492125-27b2c045efd7?q=80&w=600&auto=format&fit=crop" } ],
                'Co-work': [ { title: "Shared Dsk", price: "₹5,000", loc: "Hub", rating: "4.5", img: "https://images.unsplash.com/photo-1497366216548-37526070297c?q=80&w=600&auto=format&fit=crop" } ],
                'Basement': [ { title: "Godown", price: "₹12,000", loc: "Lower", rating: "4.0", img: "https://images.unsplash.com/photo-1595526114035-0d45ed16cfbf?q=80&w=600&auto=format&fit=crop" } ],
                'Rooftop': [ { title: "Sky Cafe", price: "₹35,000", loc: "Top", rating: "4.8", img: "https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?q=80&w=600&auto=format&fit=crop" } ]
            },
            pg: {
                'Boys': [ { title: "Alpha Boys", price: "₹8,000", loc: "Sec-18", rating: "4.7", img: "https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?q=80&w=600&auto=format&fit=crop" } ],
                'Girls': [ { title: "Zenith Girls", price: "₹9,000", loc: "Safe", rating: "4.9", img: "https://images.unsplash.com/photo-1555854877-bab0e564b8d5?q=80&w=600&auto=format&fit=crop" } ],
                'Co-Ed': [ { title: "Friends Hub", price: "₹10,000", loc: "Cyber", rating: "4.8", img: "https://images.unsplash.com/photo-1502005229766-939cb9342514?q=80&w=600&auto=format&fit=crop" } ],
                'Luxury': [ { title: "Elite PG", price: "₹18,000", loc: "Golf", rating: "5.0", img: "https://images.unsplash.com/photo-1505691938895-1758d7feb511?q=80&w=600&auto=format&fit=crop" } ],
                'Budget': [ { title: "Save PG", price: "₹5,000", loc: "Laxmi", rating: "4.1", img: "https://images.unsplash.com/photo-1595526114035-0d45ed16cfbf?q=80&w=600&auto=format&fit=crop" } ],
                'Single': [ { title: "Solo Room", price: "₹12,000", loc: "Posh", rating: "4.7", img: "https://images.unsplash.com/photo-1616594031246-d53654136601?q=80&w=600&auto=format&fit=crop" } ],
                'Double': [ { title: "Twin Share", price: "₹7,000", loc: "DLF", rating: "4.5", img: "https://images.unsplash.com/photo-1522771753037-633361652bff?q=80&w=600&auto=format&fit=crop" } ],
                'Triple': [ { title: "Trio Bed", price: "₹5,500", loc: "Uni", rating: "4.3", img: "https://images.unsplash.com/photo-1555854877-bab0e564b8d5?q=80&w=600&auto=format&fit=crop" } ],
                'AC PG': [ { title: "Cool Stay", price: "₹9,500", loc: "Main", rating: "4.6", img: "https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?q=80&w=600&auto=format&fit=crop" } ],
                'Food': [ { title: "Meal Incl", price: "₹11,000", loc: "Homey", rating: "4.8", img: "https://images.unsplash.com/photo-1512917774080-9991f1c4c750?q=80&w=600&auto=format&fit=crop" } ]
            },
            hostels: {
                'Student M': [ { title: "Boys Hostel", price: "₹6,000", loc: "Campus", rating: "4.5", img: "https://images.unsplash.com/photo-1555854877-bab0e564b8d5?q=80&w=600&auto=format&fit=crop" } ],
                'Student F': [ { title: "Girls Wing", price: "₹6,500", loc: "Gate", rating: "4.7", img: "https://images.unsplash.com/photo-1617325247661-675ab4b64ae2?q=80&w=600&auto=format&fit=crop" } ],
                'Working M': [ { title: "Exec Stay", price: "₹8,000", loc: "Office", rating: "4.4", img: "https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?q=80&w=600&auto=format&fit=crop" } ],
                'Working F': [ { title: "Safe Home", price: "₹8,500", loc: "Tech", rating: "4.6", img: "https://images.unsplash.com/photo-1512918760513-95f1929c3d38?q=80&w=600&auto=format&fit=crop" } ],
                'AC Host': [ { title: "Chill Zone", price: "₹7,500", loc: "New", rating: "4.5", img: "https://images.unsplash.com/photo-1520277129738-95822c2a0d7d?q=80&w=600&auto=format&fit=crop" } ],
                'Non-AC': [ { title: "Econ Bed", price: "₹4,500", loc: "Old", rating: "4.0", img: "https://images.unsplash.com/photo-1596276020587-8044fe049813?q=80&w=600&auto=format&fit=crop" } ],
                'Dorm': [ { title: "Bunk Bed", price: "₹3,500", loc: "Hall", rating: "3.9", img: "https://images.unsplash.com/photo-1555854877-bab0e564b8d5?q=80&w=600&auto=format&fit=crop" } ],
                'Luxury': [ { title: "VIP Host", price: "₹12,000", loc: "Posh", rating: "4.9", img: "https://images.unsplash.com/photo-1502672260266-1c1ef2d93688?q=80&w=600&auto=format&fit=crop" } ],
                'Backpack': [ { title: "Traveler", price: "₹500/Day", loc: "City", rating: "4.3", img: "https://images.unsplash.com/photo-1522771753037-633361652bff?q=80&w=600&auto=format&fit=crop" } ],
                'Campus': [ { title: "Uni Block", price: "₹5,000", loc: "Inside", rating: "4.2", img: "https://images.unsplash.com/photo-1520277129738-95822c2a0d7d?q=80&w=600&auto=format&fit=crop" } ]
            },
            houses: {
                'Villa': [ { title: "Grand Villa", price: "₹60,000", loc: "Palm", rating: "5.0", img: "https://images.unsplash.com/photo-1613490493576-7fde63acd811?q=80&w=600&auto=format&fit=crop" } ],
                'Bungalow': [ { title: "Vintage", price: "₹50,000", loc: "Civil", rating: "4.8", img: "https://images.unsplash.com/photo-1568605114967-8130f3a36994?q=80&w=600&auto=format&fit=crop" } ],
                'Farmhouse': [ { title: "Weekend", price: "₹30k/Wk", loc: "Sohna", rating: "4.9", img: "https://images.unsplash.com/photo-1583608205776-bfd35f0d9f83?q=80&w=600&auto=format&fit=crop" } ],
                'Floor': [ { title: "Indep Flr", price: "₹25,000", loc: "Sec-4", rating: "4.5", img: "https://images.unsplash.com/photo-1564013799919-ab600027ffc6?q=80&w=600&auto=format&fit=crop" } ],
                'Row House': [ { title: "Line Home", price: "₹35,000", loc: "Gated", rating: "4.6", img: "https://images.unsplash.com/photo-1570129477492-45c003edd2be?q=80&w=600&auto=format&fit=crop" } ],
                'Cottage': [ { title: "Cozy Cot", price: "₹40,000", loc: "Hill", rating: "4.7", img: "https://images.unsplash.com/photo-1505691938895-1758d7feb511?q=80&w=600&auto=format&fit=crop" } ],
                'Mansion': [ { title: "Huge Home", price: "₹1 Lakh", loc: "Estate", rating: "5.0", img: "https://images.unsplash.com/photo-1512917774080-9991f1c4c750?q=80&w=600&auto=format&fit=crop" } ],
                'Tiny': [ { title: "Small Hse", price: "₹15,000", loc: "Eco", rating: "4.3", img: "https://images.unsplash.com/photo-1518780664697-55e3ad937233?q=80&w=600&auto=format&fit=crop" } ],
                'Guest': [ { title: "Annex", price: "₹12,000", loc: "Rear", rating: "4.0", img: "https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?q=80&w=600&auto=format&fit=crop" } ],
                'Haveli': [ { title: "Heritage", price: "₹70,000", loc: "Old", rating: "4.9", img: "https://images.unsplash.com/photo-1580587771525-78b9dba3b91d?q=80&w=600&auto=format&fit=crop" } ]
            },
            plots: {
                'Residential': [ { title: "Home Plot", price: "₹80 Lakh", loc: "Sun City", rating: "4.6", img: "https://images.unsplash.com/photo-1598528738936-c50861ccf5a3?q=80&w=600&auto=format&fit=crop" } ],
                'Commercial': [ { title: "Shop Land", price: "₹2 Cr", loc: "Mkt", rating: "4.9", img: "https://images.unsplash.com/photo-1500382017468-9049fed747ef?q=80&w=600&auto=format&fit=crop" } ],
                'Industrial': [ { title: "Factory", price: "₹1.5 Cr", loc: "IMT", rating: "4.7", img: "https://images.unsplash.com/photo-1565514020176-db8b248a39a0?q=80&w=600&auto=format&fit=crop" } ],
                'Agri': [ { title: "Farm Soil", price: "₹50k/Mo", loc: "Rural", rating: "4.5", img: "https://images.unsplash.com/photo-1500937386664-56d1dfef3854?q=80&w=600&auto=format&fit=crop" } ],
                'Farm Land': [ { title: "Acre Plot", price: "₹40k/Mo", loc: "Out", rating: "4.4", img: "https://images.unsplash.com/photo-1628744876497-eb30460be9f6?q=80&w=600&auto=format&fit=crop" } ],
                'Corner': [ { title: "2 Side Open", price: "₹1 Cr", loc: "Sec-10", rating: "5.0", img: "https://images.unsplash.com/photo-1521401830884-6c03c1c87ebb?q=80&w=600&auto=format&fit=crop" } ],
                'Park Face': [ { title: "View Plot", price: "₹90 Lakh", loc: "Green", rating: "4.8", img: "https://images.unsplash.com/photo-1586023492125-27b2c045efd7?q=80&w=600&auto=format&fit=crop" } ],
                'Main Rd': [ { title: "Hwy Plot", price: "₹3 Cr", loc: "NH-8", rating: "4.9", img: "https://images.unsplash.com/photo-1500382017468-9049fed747ef?q=80&w=600&auto=format&fit=crop" } ],
                'Gated': [ { title: "Secure", price: "₹1.2 Cr", loc: "DLF", rating: "4.7", img: "https://images.unsplash.com/photo-1500937386664-56d1dfef3854?q=80&w=600&auto=format&fit=crop" } ],
                'Invest': [ { title: "Future", price: "₹40 Lakh", loc: "New", rating: "4.3", img: "https://images.unsplash.com/photo-1565514020176-db8b248a39a0?q=80&w=600&auto=format&fit=crop" } ]
            }
        };

        // --- RENDER LOGIC WITH DYNAMIC SUB-NAV ---
        function initCategory(category) {
            const navContainer = document.getElementById(`nav-${category}`);
            const gridContainer = document.getElementById(`grid-${category}`);
            if (!navContainer || !gridContainer) return;

            const subTypes = Object.keys(fullData[category]);
            
            // Render Sub-Nav
            navContainer.innerHTML = subTypes.map((type, index) => `
                <div class="sub-nav-item ${index === 0 ? 'active' : ''}" 
                     onclick="switchSubType('${category}', '${type}', this)">
                    ${type}
                </div>
            `).join('');

            // Render Initial Grid
            renderGrid(category, subTypes[0]);
        }

        function switchSubType(category, subType, btnElement) {
            const parent = document.getElementById(`nav-${category}`);
            parent.querySelectorAll('.sub-nav-item').forEach(el => el.classList.remove('active'));
            btnElement.classList.add('active');
            renderGrid(category, subType);
        }

        // --- NEW: OPEN LIST PROPERTY FORM (IN POPUP CONTEXT) ---
        function openListPropertyForm(category) {
            const container = document.getElementById(`grid-${category}`);
            
            // Replace grid with form
            container.innerHTML = '';
            
            setTimeout(() => {
                container.innerHTML = `
                    <div style="grid-column: 1 / -1; display: flex; justify-content: center; align-items: center; padding: 20px; height: 100%;">
                        <div style="background: rgba(20,20,20,0.9); border: 1px solid #39ff14; padding: 25px; border-radius: 20px; width: 100%; max-width: 400px; text-align: center; animation: fadeIn 0.5s ease; box-shadow: 0 0 30px rgba(57, 255, 20, 0.1);">
                            <i class="fas fa-cloud-upload-alt" style="font-size: 3rem; color: #39ff14; margin-bottom: 15px;"></i>
                            <h3 style="color: #fff; font-size: 1.5rem; margin-bottom: 5px; font-family: 'Rajdhani', sans-serif;">LIST YOUR ${category.toUpperCase()}</h3>
                            <p style="color: #888; font-size: 0.8rem; margin-bottom: 20px;">Join the future of renting.</p>
                            
                            <input type="text" placeholder="Property Title" style="width: 100%; background: #000; border: 1px solid #333; color: #fff; padding: 12px; border-radius: 10px; margin-bottom: 10px; outline: none; font-size: 0.9rem;">
                            <input type="text" placeholder="Location" style="width: 100%; background: #000; border: 1px solid #333; color: #fff; padding: 12px; border-radius: 10px; margin-bottom: 10px; outline: none; font-size: 0.9rem;">
                            <input type="number" placeholder="Rent (₹)" style="width: 100%; background: #000; border: 1px solid #333; color: #fff; padding: 12px; border-radius: 10px; margin-bottom: 20px; outline: none; font-size: 0.9rem;">
                            
                            <div class="action-btn" onclick="alert('Listing Submitted for Review!')" style="background: #39ff14; color: #000; font-size: 1rem; padding: 12px; margin-top: 0;">
                                SUBMIT LISTING
                            </div>
                            <div onclick="initCategory('${category}')" style="color: #666; font-size: 0.8rem; margin-top: 15px; cursor: pointer; text-decoration: underline;">Cancel</div>
                        </div>
                    </div>
                `;
            }, 50);
        }

        function renderGrid(category, subType) {
            const container = document.getElementById(`grid-${category}`);
            const items = fullData[category][subType];

            container.innerHTML = ''; 
            
            setTimeout(() => {
                // Generate dummy cards for the selected subtype (repeating to fill grid if needed)
                // Using 6 cards logic from before, but data has 1 or 2. Let's repeat data to make it look full.
                const displayItems = [...items, ...items, ...items, ...items, ...items].slice(0, 10); 
                
                container.innerHTML = displayItems.map((item, index) => {
                    const pageLink = `property_${item.title.replace(/\s+/g, '_').toLowerCase()}.html`;
                    return `
                    <div class="listing-card" style="animation-delay: ${index * 0.1}s">
                        <div class="listing-img-box">
                            <span class="listing-rating"><i class="fas fa-star"></i> ${item.rating}</span>
                            <img src="${item.img}" alt="${item.title}">
                        </div>
                        <div class="listing-details">
                            <div class="listing-title">${item.title}</div>
                            <div class="listing-loc"><i class="fas fa-location-dot text-green-400"></i> ${item.loc}</div>
                            <div class="listing-price">${item.price}</div>
                            <div class="action-btn" onclick="window.location.href='${pageLink}'">
                                Book Now
                            </div>
                        </div>
                    </div>
                `}).join('');
            }, 50);
        }

        let currentCategory = 'pg'; 

        function activateTab(element, category) {
            document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
            element.classList.add('active');
            openPopup(category);
        }

        function openPopup(category) {
            currentCategory = category;
            document.querySelectorAll('.modal-overlay').forEach(el => {
                el.classList.remove('flex-modal');
                el.classList.add('hidden-modal');
            });
            const modalId = `modal-${category}`;
            const modal = document.getElementById(modalId);
            if(modal) {
                modal.classList.remove('hidden-modal');
                modal.classList.add('flex-modal');
                initCategory(category);
            }
        }

        window.addEventListener('DOMContentLoaded', function() {
            Object.keys(fullData).forEach(cat => initCategory(cat));
            openPopup(currentCategory);
        });
    </script>
</body>
</html>
